{"version":3,"sources":["OTP.js"],"names":["mongoose","require","Schema","email","OTPSchema","otp","String","type","Date","expires","now","sendVerificationEmail","regeneratorRuntime","async","_context","prev","next","awrap","mailSender","sent","t0","console","log","stop","pre","_context2","this","model"],"mappings":"aAAA,IAAMA,SAAWC,QAAQ,YAAnBD,UAAWC,IAAOD,SAACE,OAAzB,CAGAC,MAAO,CADDC,KAAAA,OACND,UAAO,GAAAE,IAD+B,CAMtCA,KAAKC,OACDC,UAAMD,GAMNC,UAAKC,CACLD,KAAAC,KACAC,QAAOD,KAAGE,MAHJD,QAAA,OASV,SAAAE,sBAAAR,EAAAE,GAAA,OAAAO,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAK,MAAAC,WAAAf,EAAA,sCAAAE,IAAA,KAAA,EAAAS,EAAAK,KAAAL,EAAAE,KAAA,GAAA,MAAA,KAAA,EAAA,MAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,MAAA,GAAAO,QAAAC,IAAA,qCAAAR,EAAAM,IAAAN,EAAAM,GAAA,KAAA,GAAA,IAAA,MAAA,OAAAN,EAAAS,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,KAAAnB,UAAAoB,IAAA,OAAA,SAAAR,GAAA,OAAAJ,mBAAAC,MAAA,SAAAY,GAAA,OAAA,OAAAA,EAAAV,KAAAU,EAAAT,MAAA,KAAA,EAAA,OAAAS,EAAAT,KAAA,EAAAJ,mBAAAK,MAWUN,sBAAsBe,KAAKvB,MAAOuB,KAAKrB,MAXjD,KAAA,EAAAW,IAAA,KAAA,EAAA,IAAA,MAAA,OAAAS,EAAAF,SAAA,KAAAG,QAKQL,OAAAA,QAAOrB,SAAK2B,MAAA,MAAAvB","file":"OTP.min.js","sourcesContent":["const mongoose = require(\"mongoose\");\n\nconst OTPSchema = new mongoose.Schema({\nemail: {\n    type: String,\n    required:true,\n\n},\notp: {\n    type: String,\n    required:true,\n\n},\n\ncreatedAt:{\n    type:Date,\n    default:Date.now(),\n    expires:5*60,\n\n}\n\n\n});\nasync function sendVerificationEmail(email, otp){\n    try{\n            const mailResponse = await mailSender(email,\"Verification Email from StudyNotion\",otp)\n    }\n    catch(error){\n        console.log(\"error occured while sending mails:\", error);\n        throw error;\n    }\n}\n\nOTPSchema.pre(\"save\", async function(next) {\n    await sendVerificationEmail(this.email, this.otp);\n    next();\n})\n\nmodule.exports = mongoose.model(\"OTP\", OTPSchema);\n"]}