"use strict";var mongoose=require("mongoose"),OTPSchema=new mongoose.Schema({email:{type:String,required:!0},otp:{type:String,required:!0},createdAt:{type:Date,default:Date.now(),expires:300}});function sendVerificationEmail(r,t){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(mailSender(r,"Verification Email from StudyNotion",t));case 3:e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),console.log("error occured while sending mails:",e.t0),e.t0;case 10:case"end":return e.stop()}},null,null,[[0,6]])}OTPSchema.pre("save",function(r){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(sendVerificationEmail(this.email,this.otp));case 2:r();case 3:case"end":return e.stop()}},null,this)}),module.exports=mongoose.model("OTP",OTPSchema);
//# sourceMappingURL=OTP.min.js.map
