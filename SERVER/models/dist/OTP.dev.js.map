{"version":3,"sources":["OTP.js"],"names":["mongoose","require","OTPSchema","Schema","email","type","String","required","otp","createdAt","Date","now","expires","sendVerificationEmail","mailSender","mailResponse","console","log","pre","next","module","exports","model"],"mappings":";;AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,IAAMC,SAAS,GAAG,IAAIF,QAAQ,CAACG,MAAb,CAAoB;AACtCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAC;AAFN,GAD+B;AAMtCC,EAAAA,GAAG,EAAE;AACDH,IAAAA,IAAI,EAAEC,MADL;AAEDC,IAAAA,QAAQ,EAAC;AAFR,GANiC;AAYtCE,EAAAA,SAAS,EAAC;AACNJ,IAAAA,IAAI,EAACK,IADC;AAEN,eAAQA,IAAI,CAACC,GAAL,EAFF;AAGNC,IAAAA,OAAO,EAAC,IAAE;AAHJ;AAZ4B,CAApB,CAAlB;;AAqBA,SAAeC,qBAAf,CAAqCT,KAArC,EAA4CI,GAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEuCM,UAAU,CAACV,KAAD,EAAO,qCAAP,EAA6CI,GAA7C,CAFjD;;AAAA;AAEkBO,UAAAA,YAFlB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKQC,UAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ;AALR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUAf,SAAS,CAACgB,GAAV,CAAc,MAAd,EAAsB,iBAAeC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACZN,qBAAqB,CAAC,KAAKT,KAAN,EAAa,KAAKI,GAAlB,CADT;;AAAA;AAElBW,UAAAA,IAAI;;AAFc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB;AAKAC,MAAM,CAACC,OAAP,GAAiBrB,QAAQ,CAACsB,KAAT,CAAe,KAAf,EAAsBpB,SAAtB,CAAjB","sourcesContent":["const mongoose = require(\"mongoose\");\n\nconst OTPSchema = new mongoose.Schema({\nemail: {\n    type: String,\n    required:true,\n\n},\notp: {\n    type: String,\n    required:true,\n\n},\n\ncreatedAt:{\n    type:Date,\n    default:Date.now(),\n    expires:5*60,\n\n}\n\n\n});\nasync function sendVerificationEmail(email, otp){\n    try{\n            const mailResponse = await mailSender(email,\"Verification Email from StudyNotion\",otp)\n    }\n    catch(error){\n        console.log(\"error occured while sending mails:\", error);\n        throw error;\n    }\n}\n\nOTPSchema.pre(\"save\", async function(next) {\n    await sendVerificationEmail(this.email, this.otp);\n    next();\n})\n\nmodule.exports = mongoose.model(\"OTP\", OTPSchema);\n"],"file":"OTP.dev.js"}