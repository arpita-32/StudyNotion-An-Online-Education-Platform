"use strict";var Section=require("../models/Section"),Course=require("../models/Course");exports.createSection=function(t,s){var r,n,a,u,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.body,n=r.sectionName,a=r.courseId,n&&a){e.next=4;break}return e.abrupt("return",s.status(400).json({success:!1,message:"Missing properties"}));case 4:return e.next=6,regeneratorRuntime.awrap(Section.create({sectionName:n}));case 6:return u=e.sent,e.next=9,regeneratorRuntime.awrap(Course.findByIdAndUpdate(a,{$push:{courseContent:u._id}},{new:!0}));case 9:return c=e.sent,e.abrupt("return",s.status(200).json({success:!0,message:"Section creates successfully",updateCourseDetails:c}));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",s.status(500).json({success:!1,message:"unable to create section please try again"}));case 16:case"end":return e.stop()}},null,null,[[0,13]])},exports.updateSection=function(t,s){var r,n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.body,n=r.sectionName,a=r.sectionId,n&&a){e.next=4;break}return e.abrupt("return",s.status(400).json({success:!1,message:"Missing properties"}));case 4:return e.next=6,regeneratorRuntime.awrap(Section.findByIdAndUpdate(a,{sectionName:n},{new:!0}));case 6:return e.sent,e.abrupt("return",s.status(200).json({success:!0,message:"Section updated successfully"}));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",s.status(500).json({success:!1,message:"unable to update section please try again"}));case 13:case"end":return e.stop()}},null,null,[[0,10]])},exports.deleteSection=function(t,s){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.params.sectionId,sectionName&&r){e.next=4;break}return e.abrupt("return",s.status(400).json({success:!1,message:"Missing properties"}));case 4:return e.next=6,regeneratorRuntime.awrap(Section.findByIdAndDelete(r));case 6:return e.abrupt("return",s.status(200).json({success:!0,message:"Section delete successfully"}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",s.status(500).json({success:!1,message:"unable to delete section please try again"}));case 12:case"end":return e.stop()}},null,null,[[0,9]])};
//# sourceMappingURL=Section.min.js.map
